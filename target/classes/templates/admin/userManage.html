<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Material Design Bootstrap</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <!-- Material Design Bootstrap -->
    <link rel="stylesheet" th:href="@{/css/mdb.min.css}">
    <!-- Your custom styles (optional) -->

    <style>
        /* Only for snippet */
        .double-nav .breadcrumb-dn {
            color: #fff;
        }

        .button-collapse i {
            color: #fff
        }
    </style>
    <script src="../../static/js/vendor/datatables/js/dataTables.bootstrap4.min.js"></script>
</head>


<body class="fixed-sn black-skin">

<!--Main Navigation-->
<header>

    <th:block th:include="/admin/_menu"></th:block>

</header>
<!--Main Navigation-->

<!--Main Layout-->
<!-- Main layout  -->
<main class="p-0">
    <div class="container-fluid mb-5">
<setion>
    <div class="card">
        <div class="card-body">
            <div class="row">

                <div class="col-sm">
                   <H3 class="my-auto float-left">Danh sách người dùng</H3>
                </div>
                <div class="col-sm">
                    <button class="btn btn-success float-right">Thêm người dùng</button>
                </div>
            </div>
        </div>
    </div>
</setion>
        <section>

            <div class="card">
                <div class="card-body">

                    <!-- Table -->
                    <table class="table">

                        <!-- Table head -->
                        <thead class="mdb-color darken-3">
                        <tr class="text-white">
                            <th>#</th>
                            <th>Username</th>
                            <th>Password</th>
                            <th>Name</th>
                            <th>Email</th>
                            <th>Phone</th>
                            <th>Date created</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <!-- Table head -->

                        <!-- Table body -->
                        <tbody id="dataUser">

                        </tbody>
                        <!-- Table body -->
                    </table>
                    <!-- Table -->

                </div>
            </div>

        </section>

    </div>


</main>
<!-- Main layout -->
<!--Main Layout-->

</body>

<!-- SCRIPTS -->
<!-- JQuery -->
<script th:src="@{/js/jquery-3.4.1.min.js}"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" th:src="@{/js/bootstrap.js}"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" th:src="@{/js/mdb.min.js}"></script>
<script type="text/javascript" th:src="@{/js/addons/datatables.min.js}"></script>
<script type="text/javascript" th:src="@{/js/addons/datatables-select.min.js}"></script>
<!-- Custom scripts -->
<script>
    $(document).ready(function () {
        $('body').ready(loadUser);
        // SideNav Initialization
        $(".button-collapse").sideNav();
        new WOW().init();
        $('#tblUser').DataTable({
            "pagingType": "full_numbers"
        });


    });
    function loadUser() {
        $.ajax({
            url: 'http://localhost:8080/api/getlistuser',
            type: 'POST',
            dataType: 'JSON',
            success: function (data) {
                var tem='';
                for(var i =0;i<data.length;i++){
                    tem += '<tr>\n' +
                        '<td>'+i+'</td>\n' +
                        '<td>'+data[i].username+'</td>\n' +
                        '<td>'+data[i].password+'</td>\n' +
                        '<td>'+data[i].name+'</td>\n' +
                        '<td>'+data[i].email+'</td>\n' +
                        '<td>'+data[i].phone+'</td>\n' +
                        '<td>'+data[i].datecreated+'</td>\n' +
                        '<td><a class="btn btn-action" href=""></a></td>\n' +
                        '</tr>';
                }
                $('#dataUser').html(tem);
            },
            error: function (e) {
                console.log(e.message());
            }
        });
    }
</script>

</html>